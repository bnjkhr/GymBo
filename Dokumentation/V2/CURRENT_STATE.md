# GymBo V2 - Aktueller Stand (2025-10-31)

**Status:** ‚úÖ PRODUCTION-READY! Superset & Circuit Training Backend Complete
**Version:** 2.6.0+
**Architektur:** Clean Architecture (4 Layers) + iOS 17 @Observable
**Design:** Modern iOS 26 mit Brand Color #F77E2D

‚úÖ **NEW (Session 35):** CRITICAL BUG FIX! SwiftData Migration Crash behoben
‚úÖ **NEW (Session 33):** Superset & Circuit Training! Backend komplett, UI f√ºr Erstellung pending
‚úÖ **NEW (Session 32):** Warmup Sets Feature! Automatische Aufw√§rms√§tze mit 3 Strategien
‚úÖ **NEW (Session 27-30):** Session History & Statistics! Workout-Tracking mit Streak-Berechnung

**Letzte Session (2025-10-31 - Session 35 - CRITICAL: SWIFTDATA CRASH FIX):**
- üî• **CRITICAL BUG FIX: SwiftData Migration Crash**
  - **Problem:** App crashed beim Speichern von Sessions nach V1‚ÜíV2 Update (TestFlight Feedback)
  - **Root Cause:** Broken inverse relationships nach Schema-Migration
    - `SessionExerciseEntity.session` wurde `nil` nach Migration
    - `SessionSetEntity.exercise` wurde `nil` nach Migration
    - `SessionExerciseGroupEntity.session` wurde `nil` nach Migration (V6)
  - **Fix 1: Runtime Protection (SessionMapper.swift)**
    - `updateExerciseEntity()`: Stellt `exercise.session` nach Update wieder her
    - `updateSetEntity()`: Stellt `set.exercise` nach Update wieder her  
    - `updateEntity()`: Stellt `group.session` + alle Group-Exercises wieder her
  - **Fix 2: Migration Protection (GymBoMigrationPlan.swift)**
    - Migration V1‚ÜíV2: Jetzt `custom` statt `lightweight`
      - `didMigrate`: Restored alle inverse relationships f√ºr WorkoutSessions
      - Restored alle exercise‚Üísession und set‚Üíexercise Referenzen
    - Migration V5‚ÜíV6: Jetzt `custom` statt `lightweight`
      - `didMigrate`: Restored alle inverse relationships inkl. ExerciseGroups
      - Restored alle group‚Üísession und group.exercises‚Üísession Referenzen
  - **Impact:** 
    - ‚úÖ Bestehende User mit laufenden V1-Sessions k√∂nnen jetzt sicher updaten
    - ‚úÖ Keine Crashes mehr beim Set-Completion nach Migration
    - ‚úÖ Alle zuk√ºnftigen Updates gesch√ºtzt durch Runtime-Fix
  - **Files Changed:** 
    - `SessionMapper.swift`: 3 fixes (exercise, set, group relationships)
    - `GymBoMigrationPlan.swift`: 2 migration fixes (V1‚ÜíV2, V5‚ÜíV6)
  - **Crash Log Analysis:** 
    - Thread 0: `_assertionFailure` in `ModelContext.updateModel`
    - Frame 12-13: GymBo code calling `modelContext.save()`
    - Cause: SwiftData validation failed wegen `nil` inverse relationships

**Session 34 (2025-10-31 - SUPERSET/CIRCUIT DOCUMENTATION):**
- ‚úÖ **Documentation Update**
  - Created comprehensive User Guide for Superset/Circuit features
  - Updated TODO.md with Session 33 implementation details
  - Updated README.md with new features and architecture changes
  - Updated CURRENT_STATE.md with Schema V6 and new use cases
  - All documentation now current and accurate

**Session 33 (2025-10-30 - SUPERSET & CIRCUIT TRAINING):**
- ‚úÖ **Schema V6 Migration** (V5 ‚Üí V6)
  - NEW: WorkoutType enum support (.standard, .superset, .circuit)
  - NEW: ExerciseGroupEntity for grouping exercises
  - NEW: SessionExerciseGroupEntity for runtime round tracking
  - Lightweight migration from V5 to V6
- ‚úÖ **Domain Layer Enhancements**
  - NEW: ExerciseGroup entity (groups 2+ exercises)
  - NEW: SessionExerciseGroup entity (currentRound/totalRounds)
  - NEW: CreateSupersetWorkoutUseCase (validates exactly 2 exercises)
  - NEW: CreateCircuitWorkoutUseCase (validates 3+ exercises)
  - NEW: StartGroupedWorkoutSessionUseCase (initializes rounds)
  - NEW: CompleteGroupSetUseCase (set completion in groups)
  - NEW: AdvanceToNextRoundUseCase (manual round advancement)
- ‚úÖ **Data Layer Mappers**
  - NEW: ExerciseGroupMapper (Domain ‚Üî Entity)
  - NEW: SessionExerciseGroupMapper (Domain ‚Üî Entity)
  - Updated WorkoutMapper for workoutType and exerciseGroups
  - Updated SessionMapper for SessionExerciseGroup support
- ‚úÖ **Presentation Layer Views**
  - NEW: SupersetWorkoutView (specialized UI for supersets)
  - NEW: CircuitWorkoutView (specialized UI for circuits)
  - NEW: SupersetGroupCard (displays A1/A2 pairs)
  - NEW: CircuitGroupCard (station rotation display)
  - Updated ActiveWorkoutSheetView to route by workout type
  - Updated SessionStore with group-specific methods
- ‚úÖ **Features Implemented**
  - Superset Training: Paired exercises (A1‚ÜíA2) with round progression
  - Circuit Training: Multi-station rotation (A‚ÜíB‚ÜíC‚ÜíD‚ÜíE)
  - Round tracking: currentRound/totalRounds per group
  - Rest after group: 120s (superset), 180s (circuit)
  - Manual "Next Round" button for circuits
  - Group counter in navigation (Group 1/4, Circuit 1/3)
  - Workout complete message
- ‚úÖ **Business Rules**
  - Supersets: Exactly 2 exercises per group
  - Circuits: Minimum 3 exercises per group
  - All exercises in group must have same targetSets
  - Validation enforced in use cases
- **TODO:** UI for creating Superset/Circuit workouts (currently programmatic only)
- Files: 15 NEW (5 Use Cases, 2 Mappers, 2 Views, 2 Cards, 2 Entities, SchemaV6, Migration)
- Commits: ae362d5, 3dfe1e8, 13737ca, e247a7a, 3c865c8 (Merge PR #1)

**Session 22 (2025-10-27 - APPLE HEALTH + V1.0 MIGRATION):**
- ‚úÖ **V1.0 ‚Üí V2.4.0 Migration Strategy** (CRITICAL FEATURE)
  - **AppVersionManager:** Version-Tracking via UserDefaults
    - Erkennt v1.0 User automatisch (`lastVersion.starts(with: "1.")`)
    - `needsDatabaseReset()` ‚Üí true wenn Upgrade von v1.0
    - `markV2MigrationComplete()` ‚Üí verhindert wiederholte Migration
    - Debug-Helpers f√ºr Testing
  - **MigrationAlertView:** User-freundliche Info √ºber v2.0
    - Zeigt neue Features: Workout-Ordner, Apple Health, Pausenzeiten, Quick-Setup, neues Design
    - Erkl√§rt, dass alte Daten nicht √ºbernommen werden k√∂nnen
    - Positives Framing (neue Features statt "Datenverlust")
    - Single Button: "Verstanden, weiter"
  - **GymBoApp Migration Logic:**
    - Pr√ºft bei App-Start ob v1.0 User
    - L√∂scht alte Datenbank VOR Container-Erstellung
    - Zeigt MigrationAlertView als Overlay
    - Nach User-Best√§tigung: Migration als "complete" markieren
    - `deleteDatabase()` helper Funktion
  - **Migration Flow:**
    - Fresh Install: Keine Migration, normale DB-Erstellung
    - v1.0 ‚Üí v2.4.0: DB-Reset + Alert + Seed-Daten
    - v2.x ‚Üí v2.x+1: Normale SwiftData Migration (keine Datenverlust)
  - **User Experience:**
    - Kein unerwarteter Datenverlust
    - Klare Kommunikation √ºber √Ñnderungen
    - TestFlight-Ready: User wurden vorab informiert
- ‚úÖ **ProfileView Improvements**
  - "Coming Soon" Notice mit Sparkles Icon
  - Liste geplanter Features mit Beschreibungen
  - Clock Icon statt Chevron (zeigt "noch nicht verf√ºgbar")
  - 60% Opacity f√ºr Platzhalter
- ‚úÖ **UI Polish**
  - TabBar tint color jetzt Orange statt Blau
  - Konsistente Brand Color √ºberall
- ‚úÖ **Apple Health (HealthKit) Integration** (MAJOR FEATURE - Phase 1-4 Complete)
  - **Phase 1: Core Integration**
    - HealthKitServiceProtocol in Domain Layer (protocol abstraction)
    - HealthKitService in Infrastructure (HKHealthStore implementation)
    - StartSessionUseCase: Starts HKWorkoutSession (non-blocking background)
    - EndSessionUseCase: Saves workout to Health with metadata
    - Fire-and-forget: App funktioniert auch ohne HealthKit permissions
  - **Phase 2: Permissions & UI**
    - HealthKitPermissionView: Permission request sheet
    - Info.plist keys: NSHealthShareUsageDescription, NSHealthUpdateUsageDescription
    - ProfileView integration for settings
  - **Phase 3: Heart Rate Streaming** (DEFERRED to Live Activity)
    - User-Entscheidung: Heart Rate wird sp√§ter in Live Activity implementiert
  - **Phase 4: Body Metrics Import**
    - ImportBodyMetricsUseCase: Fetch weight & height from HealthKit
    - DomainUserProfile entity mit BMI calculation
    - UserProfileRepositoryProtocol + SwiftDataUserProfileRepository
    - ProfileView: Body metrics section mit "Aus Apple Health importieren" button
    - EndSessionUseCase: Uses real body weight for calorie calculation (nicht mehr hardcoded 80kg)
    - **Bessere Kalorienberechnung:** Calories = MET (6.0) √ó real bodyWeight √ó time
- ‚úÖ **SwiftData Migration V1‚ÜíV2** (CRITICAL FIX)
  - Custom migration statt lightweight (MigrationStage.custom)
  - didMigrate callback creates default UserProfile automatically
  - **Keine manuelle App-L√∂schung mehr n√∂tig!**
  - Migration Console Output: "üîÑ Starting migration V1 ‚Üí V2", "üìù Creating default UserProfile"
- ‚úÖ **HomeView Type-Checker Timeout Fix**
  - Extracted 3 ViewModifier structs: SheetsModifier, NavigationModifier, LifecycleModifier
  - Reduced compiler complexity, maintainable code structure
- ‚úÖ **Architecture Improvements**
  - 4 Repositories now (added UserProfileRepository)
  - 30+ Use Cases (added 3 HealthKit use cases)
  - Clean separation: Domain protocols, Infrastructure implementations
  - Non-blocking async operations mit Task.detached(priority: .background)
- ‚úÖ **9 New Files Created:**
  - Domain: HealthKitServiceProtocol, UserProfile, UserProfileRepositoryProtocol, 3√ó HealthKit UseCases
  - Infrastructure: HealthKitService
  - Data: SwiftDataUserProfileRepository, UserProfileMapper
  - Presentation: HealthKitPermissionView
- ‚úÖ **8 Files Updated:**
  - StartSessionUseCase, EndSessionUseCase (HealthKit integration)
  - DependencyContainer (new dependencies)
  - ProfileView (body metrics UI)
  - HomeView (ViewModifier refactoring)
  - GymBoMigrationPlan (custom migration)
  - project.pbxproj (Info.plist keys)
- ‚úÖ **User Decisions:**
  - ‚ùå Apple Watch Support: Vorerst nicht
  - ‚è∏Ô∏è Heart Rate Streaming: Sp√§ter in Live Activity
  - ‚úÖ Body Metrics Import: High priority (bessere Kalorien)
  - ‚úÖ Automatic Migration: Ja (kein App-Delete n√∂tig)

**Session 21 (2025-10-26 - WORKOUT FOLDERS/CATEGORIES):**
- ‚úÖ Workout Folders/Categories Feature (MAJOR FEATURE)
  - WorkoutFolder Domain Entity (id, name, color, order, createdDate)
  - WorkoutFolderEntity SwiftData persistence
  - WorkoutFolderMapper for domain ‚Üî data conversion
  - Repository Methods: fetchAllFolders, createFolder, updateFolder, deleteFolder, moveWorkoutToFolder
  - Workout.folderId: UUID? + orderInFolder: Int f√ºr Folder-Zuordnung
- ‚úÖ Folder Management UI
  - ManageFoldersSheet: Ordner verwalten (erstellen, bearbeiten, l√∂schen)
  - CreateFolderSheet: Ordner-Editor mit Farb-Picker (8 Farben)
  - Folder Icon Button in HomeView Toolbar
  - Collapsible Folder Sections in HomeView mit Farb-Indikator
  - Context Menu: Workouts zwischen Ordnern verschieben
- ‚úÖ Folder Deletion Logic
  - Workouts automatisch zu "Ohne Kategorie" verschoben bei Folder-L√∂schung
  - SwiftData Relationship: deleteRule .nullify
  - Sofortige UI-Aktualisierung nach L√∂schung
- ‚úÖ UI Reactivity Fixes
  - @Bindable f√ºr WorkoutStore in ManageFoldersSheet
  - Lokale @State Kopien f√ºr folders + workouts in HomeView
  - onChange Listener f√ºr workoutStore?.folders + workouts
  - Automatische View-Updates bei Folder-√Ñnderungen
- ‚úÖ Bug Fixes
  - Duplicate Color+hex extension entfernt (3 Definitionen ‚Üí 1 in Color+AppColors.swift)
  - Predicate Syntax Fix f√ºr Folder-Verifikation
  - Rest Timer Notifications nach Workout-Ende korrekt abgebrochen
  - Difficulty Labels aus Exercise List entfernt (nur in Detail View)
  - Collapsible Sections f√ºr "Favoriten" und "Alle Workouts"

**Session 20 (2025-10-26 - QUICK-SETUP WORKOUT CREATION):**
- ‚úÖ Quick-Setup Feature (MAJOR FEATURE - Schnelles Workout-Erstellen f√ºr Hotels/fremde Gyms)
  - WorkoutCreationModeSheet mit 3 Modi: Leeres Workout, Quick-Setup, Wizard (coming soon)
  - 3-Schritt Wizard: Equipment-Kategorien ‚Üí Dauer ‚Üí Trainingsziel
  - QuickSetupWorkoutUseCase generiert AI-basierte Workouts
    - Filtert √úbungen nach Equipment (Maschinen/Freie Gewichte/K√∂rpergewicht)
    - Filtert nach Muskelgruppen basierend auf Ziel
    - Verteilt √úbungen gleichm√§√üig √ºber Ziel-Muskelgruppen
    - Wendet zielspezifische Satz/Wiederholungs-Schemata an
  - QuickSetupPreviewView f√ºr Workout-Anpassung
    - Preview der generierten √úbungen
    - **Smart Exercise Swap**: √úbungen mit gleichen Muskelgruppen zuerst angezeigt
    - Orange Checkmark-Indicator f√ºr passende √úbungen
    - √úbungen l√∂schen/hinzuf√ºgen
    - Workout-Namen bearbeiten
  - Item-based sheet presentation f√ºr zuverl√§ssiges State Management
- ‚úÖ UI Improvements
  - Spintnummer Lock Icon: Blau ‚Üí Orange (GreetingHeaderView + LockerNumberInputSheet)
  - HomeView Workout-Liste l√§dt nach Session-Abbruch korrekt neu
  - "Neues Workout erstellen" Button ‚Üí Plus-Icon neben "Workouts" Header (konsistent mit ExercisesView)

**Session 19 (2025-10-26 - PER-SET REST TIMES):**
- ‚úÖ Brand Color Update (#F77E2D)
  - Systemweites Orange zu #F77E2D ge√§ndert (GymBo Brand Color)
  - Neue Datei: Color+AppColors.swift mit hex initializer
  - Favoriten-Stern: yellow ‚Üí appOrange
  - Difficulty Badges: Von Farbe zu Graustufen (Anf√§nger: light gray, Fortgeschritten: medium gray, Profi: dark gray)
- ‚úÖ Per-Set Rest Times Feature (MAJOR FEATURE)
  - Toggle "Pausenzeit pro Satz" in EditExerciseDetailsView
  - Individuelle Pausenzeiten f√ºr jeden Satz (z.B. Satz 1: 180s, Satz 2: 180s, Satz 3: 60s)
  - Neue Komponente: PerSetRestTimePickerView
  - Domain Model: WorkoutExercise.perSetRestTimes: [TimeInterval]?
  - Session Sets: DomainSessionSet.restTime: TimeInterval?
  - SwiftData: SessionSetEntity.restTime persisted
  - Active Workout Timer nutzt set-spezifische restTime
- ‚úÖ Bug Fix: Rest Time Mapping
  - WorkoutMapper: Korrekte per-set time Logik in updateExerciseEntity
  - WorkoutMapper: .compactMap() statt .map() f√ºr nil-sichere Vergleiche
  - StartSessionUseCase: Kopiert per-set times korrekt zu Session-Sets
  - Testing: Alle drei Modi funktionieren (Standard, Custom, Per-Set)

**Session 15 (2025-10-24 - EXERCISES VIEW REDESIGN):**
- ‚úÖ ExercisesView Exercise Cards Redesign
  - Removed equipment icon from exercise rows (cleaner look)
  - Equipment Type displayed below exercise name in gray (`.secondary`)
  - Difficulty Badges mit same style as HomeView (üçÉ green, üî• orange, ‚ö° red)
  - Muscle groups shown after equipment type
  - VStack layout for name + metadata
  - Consistent design language across HomeView and ExercisesView

**Session 14 (2025-10-24 - EQUIPMENT TYPE LABELS):**
- ‚úÖ Equipment Type Labels in HomeView
  - Added `equipmentType: String?` property to WorkoutEntity & Domain Workout
  - 3 Types: "Maschine", "Freie Gewichte", "Gemischt"
  - Displayed below workout name in gray color (`.secondary`)
  - Removed barbell icon from workout cards for cleaner look
  - Updated all 6 sample workouts with correct equipment types
- ‚úÖ WorkoutMapper updated for bidirectional equipmentType mapping
- ‚úÖ WorkoutSeedData updated with equipment types for all workouts
- ‚úÖ HomeView WorkoutCard redesigned with VStack layout (name + equipment type)

**Session 13 (2025-10-24 - SAMPLE WORKOUTS + DIFFICULTY LEVELS):**
- ‚úÖ 6 Comprehensive Sample Workouts
  - **2x Maschinen:** "Ganzk√∂rper Maschine" (Anf√§nger), "Oberk√∂rper Maschine" (Fortgeschritten)
  - **2x Freie Gewichte:** "Push Day (Langhantel)" (Fortgeschritten), "Pull Day (Langhantel & Kurzhantel)" (Fortgeschritten)
  - **2x Gemischt:** "Beine Push/Pull" (Profi), "Oberk√∂rper Hybrid" (Fortgeschritten)
  - Alle Workouts mit sinnvollen Set/Rep Schemes und Gewichten
  - Progressive Overload ready (verschiedene Intensit√§ten)
- ‚úÖ Difficulty Level System
  - New property: `difficultyLevel: String?` in WorkoutEntity & Domain Workout
  - 3 Levels: "Anf√§nger" (üçÉ green), "Fortgeschritten" (üî• orange), "Profi" (‚ö° red)
  - WorkoutMapper updated f√ºr bidirectionale Mapping
  - Backwards compatible (nil f√ºr alte Workouts)
- ‚úÖ HomeView Difficulty Badges
  - Colored pills mit Icon + Text
  - Icon changes per level (leaf, flame, bolt)
  - Positioned in stats row (bottom-right of workout cards)
  - 15% opacity background f√ºr subtle look
- ‚úÖ WorkoutSeedData Komplett √ºberarbeitet
  - Alte Test-Workouts entfernt
  - 6 production-ready Workouts
  - Detaillierte Exercises pro Workout (4-8 √úbungen)
  - Muscle group coverage (Legs, Push, Pull, Full Body)

**Session 12 (2025-10-24 - ADD EXERCISE TO ACTIVE WORKOUT):**
- ‚úÖ Add Exercise to Active Session Feature
  - Plus-Button in ActiveWorkoutSheetView Toolbar
  - AddExerciseToSessionSheet mit Single-Select Picker
  - Toggle: "Dauerhaft in Workout speichern" (Session-only vs. Permanent)
  - AddExerciseToSessionUseCase mit Progressive Overload (lastUsed Values)
  - Exercises mit Default Sets (3 sets basierend auf letzten Werten)
  - Automatic orderIndex assignment
  - Integration mit WorkoutRepository f√ºr permanent save
- ‚úÖ WorkoutDetailView Refresh Fix
  - refreshTrigger in WorkoutStore f√ºr automatische UI-Updates
  - WorkoutDetailView l√§dt sofort neu nach Exercise-√Ñnderungen
  - Keine manuellen Refreshes mehr n√∂tig
  - .task(id: refreshTrigger) Pattern f√ºr reaktive Updates
- ‚úÖ Bug Fixes
  - Missing parameter in AddExerciseToSessionUseCase (exerciseId)
  - Missing WorkoutStore in ActiveWorkoutSheetView environment
  - Property names in AddExerciseToSessionSheet (muscleGroupsRaw, equipmentTypeRaw)

**Session 11 (2025-10-24 - TEXTFIELD PERFORMANCE FIXES):**
- ‚úÖ Critical Performance Fixes
  - TextField Performance: .scrollDismissesKeyboard(.interactively) in allen Views
  - Keyboard Coverage Fix: .padding(.bottom, 100) + Toolbar "Fertig" Button
  - Immediate UI Updates: .id() modifier auf ExerciseCard basierend auf Daten
  - Behebt "Gesture gate timed out" und "Invalid frame dimension" Errors
  - Butterweiche TextField-Performance in allen Input-Views
  - UI aktualisiert sofort nach Speichern (keine App-Neustarts mehr n√∂tig)

**Session 10 (2025-10-24 - TABBAR AUTO-HIDE):**
- ‚úÖ TabBar Auto-Hide Feature
  - .tabBarMinimizeBehavior(.onScrollDown) in MainTabView
  - TabBar verschwindet automatisch beim Runterscrollen
  - TabBar erscheint wieder beim Hochscrollen
  - Mehr Platz f√ºr Content
  - Modernes iOS-Pattern

**Session 9 (2025-10-24 - CUSTOM EXERCISE MANAGEMENT):**
- ‚úÖ Create Custom Exercises Feature (CreateExerciseView)
  - Multi-select muscle groups (FlowLayout chips)
  - Equipment & Difficulty picker
  - Optional description and instructions
  - Integration mit CreateExerciseUseCase
- ‚úÖ Delete Custom Exercises Feature
  - Red trash icon in ExerciseDetailView toolbar
  - Only visible for custom exercises (catalog protected)
  - Confirmation dialog before deletion
  - Auto-refresh list after deletion
  - DeleteExerciseUseCase mit business rules
- ‚úÖ Performance Optimizations (ExercisesView)
  - Cached filtered exercises (@State cache)
  - Cached filter options (muscle groups, equipment)
  - .onChange triggers statt computed properties
  - ~90-95% reduction in calculations
- ‚úÖ UI Standardization
  - Plus button standardized across app
  - Exercise count moved to search placeholder
  - Consistent icon sizing and positioning
- ‚úÖ Bug Fixes
  - Favorite toggle now updates in HomeView
  - Eye toggle button shows visual state (orange when active)
  - Fixed HomeView performance with Hasher-based .id()

**Session 6 (2025-10-23 - PRODUCTION-READY REORDERING):**
- ‚úÖ Exercise Reordering Feature (Drag & Drop mit permanentem Speichern)
- ‚úÖ ReorderExercisesSheet (isolierte Modal-View)
- ‚úÖ Permanent Save Toggle (Reihenfolge dauerhaft speichern)
- ‚úÖ Auto-Finish Exercise (wenn alle S√§tze completed)
- ‚úÖ **PRODUCTION-READY FIXES:**
  - StartSessionUseCase verwendet expliziten orderIndex
  - WorkoutMapper nutzt in-place updates
  - SessionMapper aktualisiert orderIndex korrekt
  - CompleteSetUseCase auto-finisht √úbungen
- ‚úÖ SwiftUI Observable Fix (Force UI update via nil assignment)
- ‚úÖ MockWorkoutRepository updateExerciseOrder() Implementation

**Session 5 (2025-10-23 - WORKOUT REPOSITORY):**
- ‚úÖ Workout Repository mit vollst√§ndiger Clean Architecture
- ‚úÖ Workout Picker UI mit Favoriten-Support
- ‚úÖ StartSessionUseCase l√§dt echte Workouts
- ‚úÖ Progressive Overload mit lastUsed Values
- ‚úÖ Workout Seed Data (Push/Pull/Legs)
- ‚úÖ WorkoutStore (@Observable) f√ºr UI
- ‚úÖ 13 neue Dateien, 7 ge√§ndert, ~1500 LOC

**Session 4 (2025-10-23):**
- ‚úÖ Add Set Feature (Quick-Add Field + Plus Button)
- ‚úÖ Delete Set Feature (Long-Press Context Menu)
- ‚úÖ AddSetUseCase + RemoveSetUseCase mit Clean Architecture
- ‚úÖ Regex Parser f√ºr Quick-Add Field ("100 x 8" Format)
- ‚úÖ Business Rules (Cannot delete last set)
- ‚úÖ Haptic Feedback (Success + Impact)

**Session 3 (2025-10-23):**
- ‚úÖ "Update All Sets" Feature (Toggle in EditSetSheet)
- ‚úÖ Alle incomplete Sets auf einmal aktualisieren
- ‚úÖ Mark All Complete Bug Fix (UI Refresh)
- ‚úÖ Workout Summary Persistence Fix
- ‚úÖ Equipment Display in UI
- ‚úÖ UpdateAllSetsUseCase mit Clean Architecture

**Session 2 (2025-10-23):**
- ‚úÖ Exercise Names in UI (aus Datenbank geladen)
- ‚úÖ Last Used Values beim Session Start (Progressive Overload!)
- ‚úÖ Sofortiges UI Update nach Save (Forced Observable Update)
- ‚úÖ Rounded Fonts entfernt (Standard System Font)
- ‚úÖ Kompletter Progressive Overload Cycle funktioniert!

**Session 1 (2025-10-23):**
- ‚úÖ Editable Weight/Reps mit Sheet-Based UI
- ‚úÖ Exercise History Persistence (lastUsedWeight/Reps)
- ‚úÖ Exercise Seeding (3 Test-√úbungen)
- ‚úÖ Kompletter End-to-End Workflow funktioniert

---

## üìä Implementierungsstatus

### ‚úÖ NEU IMPLEMENTIERT (Session 9 - 2025-10-24 - CUSTOM EXERCISE MANAGEMENT)

**1. Create Custom Exercises Feature**
- ‚úÖ **CreateExerciseView** - Full-Featured Form
  - TextField f√ºr Exercise Name (auto-focus)
  - Multi-Select Muscle Groups (FlowLayout chips, orange when selected)
  - Equipment Radio Buttons (Langhantel, Kurzhantel, Bodyweight, Maschine, Kabelzug)
  - Difficulty Pills (Anf√§nger, Fortgeschritten, Experte)
  - Optional Description (multiline)
  - Optional Instructions (multiline)
  - Save button in toolbar
  - Cancel button dismisses sheet

- ‚úÖ **CreateExerciseUseCase** - Business Logic & Validation
  - Validates name not empty
  - Requires at least one muscle group
  - Requires equipment selection
  - Custom error enum mit localisierten Fehlermeldungen
  - Creates exercise mit createdAt timestamp

- ‚úÖ **ExerciseRepository.create()** - Persistence
  - SwiftDataExerciseRepository implementation
  - Saves to ModelContext
  - Returns created ExerciseEntity

- ‚úÖ **UI Integration**
  - Plus button in ExercisesView header (standardized icon: plus.circle)
  - Sheet presentation mit CreateExerciseView
  - Auto-refresh list after creation
  - Consistent styling with iOS 26 design

**2. Delete Custom Exercises Feature**
- ‚úÖ **DeleteExerciseUseCase** - Business Logic & Protection
  - Validates exercise exists
  - **Business Rule:** Only custom exercises can be deleted
  - Catalog exercises protected (no createdAt ‚Üí cannot delete)
  - Custom error enum with localized German messages
  - Calls repository delete method

- ‚úÖ **ExerciseRepository.delete()** - Persistence
  - Fetch by ID using FetchDescriptor + Predicate
  - Delete from ModelContext
  - Save changes
  - Silent failure for non-existent exercises

- ‚úÖ **ExerciseDetailView Updates**
  - Red trash icon in toolbar (destructive action)
  - Only visible for custom exercises (createdAt != nil)
  - Confirmation dialog before deletion
  - "√úbung l√∂schen?" mit "Diese Aktion kann nicht r√ºckg√§ngig gemacht werden"
  - Error alert if deletion fails
  - Loading state during deletion
  - Auto-dismiss detail view after successful deletion
  - Callback to refresh exercise list

- ‚úÖ **ExercisesView Integration**
  - Passes onExerciseDeleted callback to detail view
  - Auto-refresh list after deletion
  - Seamless UX: delete ‚Üí dismiss ‚Üí refresh

**3. Performance Optimizations**
- ‚úÖ **ExercisesView Caching Pattern**
  - Cached filtered exercises (@State)
  - Cached muscle groups (@State)
  - Cached equipment types (@State)
  - .onChange triggers instead of computed properties
  - **Performance gain:** ~90-95% reduction in calculations (145+ exercises)
  - Eliminates multi-second input delays
  - Fixes "Gesture: System gesture gate timed out" errors

- ‚úÖ **HomeView Performance Fix**
  - Replaced expensive string-based .id() with Hasher-based integer hash
  - `var hasher = Hasher()` ‚Üí `hasher.combine()` ‚Üí `hasher.finalize()`
  - Eliminates `.map { "\($0.name)-\($0.isFavorite)" }.joined()` overhead
  - Updates hash on workouts change
  - Dramatically improved scrolling performance

**4. UI Standardization & Bug Fixes**
- ‚úÖ **Plus Button Standardization**
  - Icon: "plus.circle" (SF Symbol)
  - Font: .title2
  - Color: .primary (not .gray, not explicit Color.gray)
  - ButtonStyle: .plain
  - Consistent with HomeView profile button

- ‚úÖ **ExercisesView Header Redesign**
  - Single-line header: "√úbungen" + Plus button
  - Exercise count moved to search placeholder: "Durchsuche \(count) √úbungen ..."
  - Perfect vertical alignment with Plus button

- ‚úÖ **Favorite Toggle Bug Fix**
  - Added .onChange(of: workoutStore?.workouts) in HomeView
  - Syncs local @State copy with store updates
  - Favorite changes now immediately visible in HomeView

- ‚úÖ **Eye Toggle Visual State**
  - Active (showing completed): .orange
  - Inactive (hiding completed): .secondary
  - Clear visual feedback for toggle state

**5. New Content**
- ‚úÖ **"Ganzk√∂rper Maschine" Workout**
  - 9 exercises mapped from CSV data
  - Machine-based full-body workout
  - 3x8 reps (abs 3x12)
  - Extended createSets() to accept restTime parameter
  - All exercises mapped to existing catalog

---

### ‚úÖ IMPLEMENTIERT (Session 6 - 2025-10-23 - PRODUCTION-READY REORDERING)

**1. Exercise Reordering Feature (Full Implementation)**
- ‚úÖ **ReorderExercisesSheet** - Isolierte Modal-View f√ºr Drag & Drop
  - Dedicated List mit `.onMove()` (verhindert Button-Auto-Trigger Bug)
  - Live Preview der neuen Reihenfolge
  - Toggle "Reihenfolge dauerhaft speichern"
  - "Fertig" / "Abbrechen" Buttons
  - Toolbar mit Reorder-Button (arrow.up.arrow.down Icon)
  
- ‚úÖ **SessionStore.reorderExercises()** - Komplett √ºberarbeitet
  - Neue Signatur: `reorderExercises(reorderedExercises: [DomainSessionExercise], savePermanently: Bool)`
  - Optimistic Updates f√ºr sofortiges UI Feedback
  - **Force SwiftUI Update** via `currentSession = nil` ‚Üí `currentSession = updatedSession`
  - Conditional Persistence: Session-only ODER Workout Template
  
- ‚úÖ **WorkoutRepository.updateExerciseOrder()** - Neue Methode f√ºr permanentes Speichern
  - Direct in-place update von `orderIndex` ohne Entity-Recreation
  - Verhindert "PersistentIdentifier remapped" Errors
  - Performance optimiert
  
- ‚úÖ **ActiveWorkoutSheetView Updates**
  - Replaced List mit ScrollView + VStack (verhindert Drag-and-Drop Bug)
  - ReorderExercisesSheet als `.sheet()` Presentation
  - Reorder-Button in Toolbar
  - Sortiert nach orderIndex

**2. Auto-Finish Exercise Feature**
- ‚úÖ **CompleteSetUseCase - Auto-Finish Logic**
  ```swift
  // Auto-finish wenn alle S√§tze completed
  let allSetsCompleted = exercise.sets.allSatisfy { $0.completed }
  if allSetsCompleted && !exercise.isFinished {
      exercise.isFinished = true
  }
  // Auto un-finish wenn Satz wieder abgehakt wird
  else if !allSetsCompleted && exercise.isFinished {
      exercise.isFinished = false
  }
  ```
  
- ‚úÖ **UI Behavior**
  - Letzen Satz abhaken ‚Üí √úbung wird automatisch ausgeblendet
  - Abgehakten Satz wieder abhaken ‚Üí √úbung erscheint wieder
  - Eye-Toggle zeigt ausgeblendete √úbungen
  - "Mark All Complete" Button funktioniert weiterhin (FinishExerciseUseCase)

**3. PRODUCTION-READY FIXES (Critical f√ºr Robustheit)**

**Fix 1: StartSessionUseCase - Expliziter orderIndex**
```swift
// VORHER (fragil - nutzte Array-Position):
for (index, workoutExercise) in workoutExercises.enumerated() {
    orderIndex: index  // ‚ùå Abh√§ngig von Array-Reihenfolge
}

// NACHHER (robust - nutzt expliziten Wert):
for workoutExercise in workoutExercises {
    orderIndex: workoutExercise.orderIndex  // ‚úÖ Explizit aus Template
}
```
**Vorteil:** Funktioniert auch wenn Workout-Array unsortiert ist

**Fix 2: WorkoutMapper - In-Place Updates**
```swift
// VORHER (ineffizient + gef√§hrlich):
entity.exercises.removeAll()  // ‚ùå L√∂scht alle
entity.exercises = domain.exercises.map { toEntity($0) }  // ‚ùå Neu erstellen

// NACHHER (in-place + safe):
for domainExercise in domain.exercises {
    if let existing = entity.exercises.first(where: { $0.id == domainExercise.id }) {
        updateExerciseEntity(existing, from: domainExercise)  // ‚úÖ Update
    } else {
        entity.exercises.append(toEntity(domainExercise))  // ‚úÖ Nur neue
    }
}
entity.exercises.removeAll { !domainIds.contains($0.id) }  // ‚úÖ Nur deleted
```
**Vorteile:**
- Erh√§lt SwiftData-Beziehungen
- Keine "PersistentIdentifier remapped" Errors
- Performance optimiert
- Konsistent mit SessionMapper

**Fix 3: SessionMapper - orderIndex Updates**
```swift
private func updateExerciseEntity(_ entity: SessionExerciseEntity, from domain: DomainSessionExercise) {
    entity.exerciseId = domain.exerciseId
    entity.notes = domain.notes
    entity.restTimeToNext = domain.restTimeToNext
    entity.orderIndex = domain.orderIndex  // ‚úÖ JETZT inkludiert!
    entity.isFinished = domain.isFinished
    // ... update sets
}
```
**Vorher:** orderIndex wurde beim Update ignoriert ‚Üí Reorder nicht persistiert  
**Nachher:** orderIndex wird korrekt gespeichert

**4. Bug Fixes**
- ‚úÖ **SwiftUI Observable Detection** - Force UI update via nil assignment
- ‚úÖ **Button Auto-Trigger Bug** - List drag-and-drop triggerte Buttons automatisch
  - Root Cause: `DragAndDropBridge` in SwiftUI List
  - Fix: Reorder in separater Sheet mit isoliertem List
- ‚úÖ **Exercise nicht ausgeblendet** - Auto-finish implementiert
- ‚úÖ **MockWorkoutRepository** - updateExerciseOrder() Implementation f√ºr Tests

**5. Technical Improvements**
- ‚úÖ Konsistente Mapper-Patterns (Session + Workout)
- ‚úÖ Production-ready orderIndex Handling
- ‚úÖ In-place updates √ºberall
- ‚úÖ Future-proof f√ºr Workout-Editor UI

---

### ‚úÖ IMPLEMENTIERT (Session 5 - 2025-10-23 - WORKOUT REPOSITORY)

**1. Domain Layer - Workout Entities**
- ‚úÖ Workout.swift - Workout Template Entity
  - ID, Name, Exercises, DefaultRestTime
  - Notes, CreatedAt, UpdatedAt, IsFavorite
  - Computed: exerciseCount, totalSets, estimatedDuration
- ‚úÖ WorkoutExercise.swift - Exercise Template
  - ExerciseId, TargetSets, TargetReps, TargetWeight
  - RestTime, OrderIndex, Notes

**2. Domain Layer - Repository & Use Cases**
- ‚úÖ WorkoutRepositoryProtocol
  - save, update, fetch, fetchAll, fetchFavorites, search, delete
  - MockWorkoutRepository f√ºr Tests
- ‚úÖ GetAllWorkoutsUseCase
  - L√§dt alle Workouts sortiert (Favoriten zuerst)
- ‚úÖ GetWorkoutByIdUseCase
  - L√§dt einzelnes Workout mit Validierung

**3. Data Layer - Repository & Mapper**
- ‚úÖ SwiftDataWorkoutRepository
  - Vollst√§ndige CRUD Implementation
  - WorkoutEntity (bereits vorhanden) wird wiederverwendet
  - Favorites Filtering, Search
- ‚úÖ WorkoutMapper
  - Bidirektionales Mapping: Workout ‚Üî WorkoutEntity
  - WorkoutExercise ‚Üí WorkoutExerciseEntity Konvertierung
  - Sets werden aus targetSets generiert

**4. Presentation Layer - Store & UI**
- ‚úÖ WorkoutStore (@Observable)
  - loadWorkouts, refresh, loadWorkout(id:)
  - Computed: favoriteWorkouts, regularWorkouts
  - Error handling & loading states
- ‚úÖ HomeViewPlaceholder - Workout Picker
  - Liste aller Workouts mit Favoriten-Sektion
  - WorkoutRow Component (Icon, Name, Stats)
  - Continue Session View
  - Pull-to-refresh Support

**5. Infrastructure - Seed Data & DI**
- ‚úÖ WorkoutSeedData
  - Push Day: Bankdr√ºcken 4√ó8 @ 100kg ‚≠ê
  - Pull Day: Lat Pulldown 3√ó10 @ 80kg
  - Leg Day: Kniebeugen 4√ó12 @ 60kg ‚≠ê
- ‚úÖ DependencyContainer Updates
  - makeWorkoutRepository()
  - makeGetAllWorkoutsUseCase(), makeGetWorkoutByIdUseCase()
  - makeWorkoutStore()
  - makeStartSessionUseCase() mit WorkoutRepository
- ‚úÖ DependencyContainerEnvironmentKey
  - Environment-Support f√ºr DI Container

**6. StartSessionUseCase - Komplett √ºberarbeitet**
- ‚úÖ L√§dt echte Workouts via WorkoutRepository
- ‚úÖ convertToSessionExercises() implementiert
  - WorkoutExercise ‚Üí SessionExercise Konvertierung
  - Progressive Overload: lastUsedWeight/Reps aus ExerciseEntity
  - Fallback zu Template-Werten wenn keine History
  - Dynamische Set-Anzahl aus Workout Template
- ‚úÖ Keine Hardcoded Test-Data mehr

**7. Dokumentation f√ºr Phase 2**
- ‚úÖ PROGRESSION_FEATURE_PLAN.md
  - Vollst√§ndige Spezifikation (~14h gesch√§tzt)
  - Data Model Extensions (optional, backward compatible)
  - 3 Progression Strategien (Linear, Double, Wave)
  - Use Cases, Repositories, UI Components
  - Implementation Roadmap
- ‚úÖ PROGRESSION_QUICK_REF.md
  - Quick Reference f√ºr Phase 2
  - TL;DR: Was existiert vs. was fehlt

### ‚úÖ NEU IMPLEMENTIERT (Session 4 - 2025-10-23)

**1. Add Set Feature**
- ‚úÖ Quick-Add TextField mit Regex Parser
  - Regex: `#"(\d+(?:\.\d+)?)\s*[xX√ó]\s*(\d+)"#`
  - Beispiel: "100 x 8" ‚Üí 100.0kg, 8 reps
  - Leert sich automatisch nach Add
- ‚úÖ Plus Button f√ºr schnelles Hinzuf√ºgen
  - Nutzt letzte Set-Werte als Default
  - Deaktiviert wenn kein letztes Set vorhanden
- ‚úÖ AddSetUseCase implementiert (Clean Architecture)
  - Domain Layer: Use Case mit Business Logic
  - Fallback auf letzte Set-Werte wenn keine angegeben
  - Aktualisiert Exercise History (Progressive Overload)
  - Persistence via SessionRepository
- ‚úÖ Haptic Success Feedback beim Hinzuf√ºgen

**2. Delete Set Feature**
- ‚úÖ Long-Press Context Menu auf jedem Set
  - Zeigt "Satz l√∂schen" mit Trash Icon
  - Destructive Role (rot eingef√§rbt)
- ‚úÖ RemoveSetUseCase implementiert (Clean Architecture)
  - Business Rule: Minimum 1 Set pro Exercise
  - Validierung: Cannot remove last set
  - Proper Error Handling
- ‚úÖ Haptic Impact Feedback beim L√∂schen
- ‚úÖ UI disabled f√ºr letzten Satz

**3. Set Management Integration**
- ‚úÖ SessionStore.addSet(exerciseId, weight, reps)
- ‚úÖ SessionStore.removeSet(exerciseId, setId)
- ‚úÖ DependencyContainer Factory Methods
  - makeAddSetUseCase()
  - makeRemoveSetUseCase()
- ‚úÖ Forced Observable Updates f√ºr sofortiges UI Feedback
- ‚úÖ Compiler Timeout Fix (exerciseCardView() extraction)

### ‚úÖ NEU IMPLEMENTIERT (Session 3 - 2025-10-23)

**1. Update All Sets Feature**
- ‚úÖ Toggle "Alle S√§tze aktualisieren" in EditSetSheet
  - Orange Toggle (App Accent Color)
  - German UI Text: "Werte f√ºr alle verbleibenden S√§tze √ºbernehmen"
  - Aktualisiert nur incomplete Sets
- ‚úÖ UpdateAllSetsUseCase implementiert (Clean Architecture)
  - Domain Layer: Use Case mit Validierung
  - Presentation Layer: SessionStore.updateAllSets()
  - UI Layer: Callbacks durch alle Komponenten
- ‚úÖ Forced Observable Update f√ºr sofortiges UI Feedback
- ‚úÖ Haptic Success Feedback
- ‚úÖ Progressive Overload Integration (lastUsed* wird aktualisiert)

**2. Equipment Display**
- ‚úÖ SessionStore.getExerciseEquipment() implementiert
- ‚úÖ Equipment in CompactExerciseCard angezeigt
- ‚úÖ L√§dt asynchron wie Exercise Names

**3. Debug Improvements**
- ‚úÖ Debug Logging f√ºr markAllSetsComplete()
  - Zeigt Exercise ID, Total Sets, Set Details
  - Hilft "0 sets marked complete" Bug zu diagnostizieren

### ‚úÖ NEU IMPLEMENTIERT (Session 2 - 2025-10-23)

**1. Progressive Overload - Kompletter Cycle**
- ‚úÖ Exercise Names in UI angezeigt (aus Datenbank geladen)
- ‚úÖ ExerciseRepository.fetch(id:) implementiert
- ‚úÖ SessionStore l√§dt Exercise Namen asynchron
- ‚úÖ ActiveWorkoutSheetView zeigt echte Namen statt "√úbung 1, 2, 3"
- ‚úÖ Last Used Values beim Session Start
  - StartSessionUseCase l√§dt lastUsedWeight/Reps aus Exercise-DB
  - Sets starten mit letzten Werten statt Hardcoded Defaults
  - Automatischer Progressive Overload!

**2. UI/UX Verbesserungen**
- ‚úÖ Sofortiges UI Update nach Save (nicht erst beim Abhaken)
  - Forced Observable Update (`currentSession = nil` ‚Üí `currentSession = session`)
  - `.id()` modifier f√ºr CompactExerciseCard basierend auf Set-Werten
- ‚úÖ Rounded Fonts entfernt
  - Alle `.design: .rounded` zu Standard System Font ge√§ndert
  - CompactSetRow, TimerSection, EditSetSheet

### ‚úÖ NEU IMPLEMENTIERT (Session 1 - 2025-10-23)

**1. Editable Weight/Reps**
- ‚úÖ Sheet-basierte Editing UI (statt inline TextFields)
- ‚úÖ Tap auf Weight/Reps √∂ffnet EditSetSheet
- ‚úÖ Gro√üe, gut bedienbare TextFields mit Number Keyboard
- ‚úÖ "Fertig" / "Abbrechen" Buttons
- ‚úÖ Auto-Focus auf Weight-Feld
- ‚úÖ `.presentationDetents([.height(280)])` f√ºr kompakte Sheet-Gr√∂√üe
- ‚úÖ Validierung (weight > 0, reps > 0)
- ‚úÖ Optimistic Updates f√ºr sofortiges UI-Feedback

**2. Exercise History Persistence**
- ‚úÖ ExerciseRepositoryProtocol erstellt
- ‚úÖ SwiftDataExerciseRepository implementiert
- ‚úÖ UpdateSetUseCase aktualisiert ExerciseEntity.lastUsedWeight/Reps/Date
- ‚úÖ Werte werden bei jedem Edit persistiert
- ‚úÖ Bereit f√ºr Progressive Overload (n√§chstes Workout l√§dt letzte Werte)

**3. Exercise Database Seeding**
- ‚úÖ ExerciseSeedData erstellt (3 Test-√úbungen)
  - Bankdr√ºcken (100kg x 8 reps)
  - Lat Pulldown (80kg x 10 reps)
  - Kniebeugen (60kg x 12 reps)
- ‚úÖ Seed l√§uft beim ersten App-Start
- ‚úÖ StartSessionUseCase l√§dt echte Exercise IDs aus Datenbank
- ‚úÖ Keine "Exercise not found" Warnungen mehr

**4. Repository Erweiterungen**
- ‚úÖ ExerciseRepository.findByName() f√ºr Exercise-Lookup
- ‚úÖ ExerciseRepository.fetch(id:) f√ºr Exercise-Details
- ‚úÖ ExerciseRepository.updateLastUsed() f√ºr History
- ‚úÖ StartSessionUseCase nutzt findByName() + fetch() f√ºr Test-Data

### ‚úÖ VORHER IMPLEMENTIERT (Funktioniert)

**1. Clean Architecture Foundation**
- ‚úÖ Domain Layer (Entities, Use Cases, Repository Protocols)
- ‚úÖ Data Layer (SwiftData Repositories, Mappers)
- ‚úÖ Presentation Layer (Stores, Views)
- ‚úÖ Infrastructure Layer (DependencyContainer, SeedData)

**2. Session Management**
- ‚úÖ Start Session Use Case
- ‚úÖ Complete Set Use Case
- ‚úÖ End Session Use Case
- ‚úÖ **Update Set Use Case** (NEU - Weight/Reps editing)
- ‚úÖ Session Repository (SwiftData)
- ‚úÖ Session Mapper (mit in-place updates)

**3. Active Workout UI**
- ‚úÖ Timer Section (Rest + Duration Timer)
- ‚úÖ ScrollView mit allen √úbungen
- ‚úÖ Compact Exercise Cards
- ‚úÖ **Compact Set Rows mit Sheet-Editing** (NEU)
- ‚úÖ Set Completion mit Haptic Feedback
- ‚úÖ Eye-Icon Toggle (Show/Hide completed)
- ‚úÖ Exercise Counter
- ‚úÖ Workout Summary View

**4. State Management**
- ‚úÖ SessionStore (@Observable)
- ‚úÖ RestTimerStateManager
- ‚úÖ DependencyContainer

**5. Persistence**
- ‚úÖ SwiftData Schema (Session + Exercise Entities)
- ‚úÖ Session Restoration
- ‚úÖ **Exercise History Persistence** (NEU)
- ‚úÖ In-Place Updates

---

## üÜï Wichtigste √Ñnderungen dieser Session

### 1. Sheet-Based Editing (statt inline TextFields)

**Problem mit inline TextFields:**
- "Invalid frame dimension" Crashes
- Komplexes Focus Management
- Frame-Berechnungsprobleme in ForEach

**Neue L√∂sung:**
```swift
// CompactSetRow.swift
Button {
    if !set.completed {
        editingWeight = formatNumber(set.weight)
        editingReps = "\(set.reps)"
        showEditSheet = true  // ‚Üê √ñffnet Sheet
    }
} label: {
    HStack(spacing: 4) {
        Text(formatNumber(set.weight))
            .font(.system(size: 28, weight: .bold))
        Text("kg")
            .font(.system(size: 16))
    }
}
.sheet(isPresented: $showEditSheet) {
    EditSetSheet(...)
}
```

**Vorteile:**
- ‚úÖ Keine Crashes
- ‚úÖ Bessere UX (fokussiertes Editing)
- ‚úÖ Standard iOS Pattern
- ‚úÖ Einfaches Keyboard Management
- ‚úÖ Klare "Fertig" / "Abbrechen" Actions

### 2. Exercise History End-to-End

**Workflow:**
```
1. User √§ndert Gewicht 100kg ‚Üí 105kg
   ‚Üì
2. CompactSetRow ‚Üí EditSetSheet
   ‚Üì
3. "Fertig" ‚Üí onUpdateWeight(105.0)
   ‚Üì
4. ActiveWorkoutSheetView ‚Üí sessionStore.updateSet()
   ‚Üì
5. UpdateSetUseCase:
   - Speichert in Session (SessionRepository)
   - Aktualisiert ExerciseEntity (ExerciseRepository)
   ‚Üì
6. ExerciseEntity.lastUsedWeight = 105.0
   ExerciseEntity.lastUsedDate = now()
   ‚Üì
7. N√§chstes Workout: Sets mit 105kg vorausgef√ºllt
```

**Console Output:**
```
‚úèÔ∏è Update weight: setId [...], newWeight 105.0
‚úèÔ∏è Updated local weight to 105.0
‚úÖ Updated exercise Bankdr√ºcken: lastWeight=105.0, lastReps=8
```

### 3. Exercise Seeding

**ExerciseSeedData.swift:**
```swift
static func seedIfNeeded(context: ModelContext) {
    let descriptor = FetchDescriptor<ExerciseEntity>()
    let existingCount = (try? context.fetchCount(descriptor)) ?? 0
    
    if existingCount > 0 {
        print("üìä Exercises already seeded")
        return
    }
    
    // Create 3 test exercises
    let exercises = [
        ExerciseEntity(
            name: "Bankdr√ºcken",
            lastUsedWeight: 100.0,
            lastUsedReps: 8
        ),
        // ... Lat Pulldown, Kniebeugen
    ]
    
    for exercise in exercises {
        context.insert(exercise)
    }
    try context.save()
}
```

**Integration in GymBoApp.swift:**
```swift
@MainActor
private func performStartupTasks() async {
    // Seed exercises on first launch
    ExerciseSeedData.seedIfNeeded(context: container.mainContext)
    
    // Load active session
    await sessionStore.loadActiveSession()
}
```

---

## üèóÔ∏è Projektstruktur (Updated)

```
GymBo/
‚îú‚îÄ‚îÄ Domain/
‚îÇ   ‚îú‚îÄ‚îÄ Entities/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WorkoutSession.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SessionExercise.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SessionSet.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Workout.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WorkoutExercise.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ QuickSetupConfig.swift          # ‚Üê NEU (Session 20)
‚îÇ   ‚îú‚îÄ‚îÄ UseCases/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Session/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StartSessionUseCase.swift
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CompleteSetUseCase.swift
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EndSessionUseCase.swift
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UpdateSetUseCase.swift
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UpdateAllSetsUseCase.swift
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AddSetUseCase.swift
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RemoveSetUseCase.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Workout/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ QuickSetupWorkoutUseCase.swift  # ‚Üê NEU (Session 20)
‚îÇ   ‚îî‚îÄ‚îÄ RepositoryProtocols/
‚îÇ       ‚îú‚îÄ‚îÄ SessionRepositoryProtocol.swift
‚îÇ       ‚îî‚îÄ‚îÄ ExerciseRepositoryProtocol.swift
‚îÇ
‚îú‚îÄ‚îÄ Data/
‚îÇ   ‚îú‚îÄ‚îÄ Repositories/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SwiftDataSessionRepository.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SwiftDataExerciseRepository.swift # ‚Üê NEU
‚îÇ   ‚îú‚îÄ‚îÄ Mappers/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SessionMapper.swift
‚îÇ   ‚îî‚îÄ‚îÄ SwiftDataEntities.swift              # ExerciseEntity mit lastUsed*
‚îÇ
‚îú‚îÄ‚îÄ Presentation/
‚îÇ   ‚îú‚îÄ‚îÄ Stores/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SessionStore.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ WorkoutStore.swift
‚îÇ   ‚îî‚îÄ‚îÄ Views/
‚îÇ       ‚îú‚îÄ‚îÄ Home/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ HomeViewPlaceholder.swift    # ‚Üê Quick-Setup Integration
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Components/
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ GreetingHeaderView.swift # ‚Üê Orange Lock Icon
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ LockerNumberInputSheet.swift # ‚Üê Orange Lock Icon
‚îÇ       ‚îú‚îÄ‚îÄ WorkoutCreation/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ WorkoutCreationModeSheet.swift   # ‚Üê NEU (Session 20)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ QuickSetupView.swift             # ‚Üê NEU (Session 20)
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ QuickSetupPreviewView.swift      # ‚Üê NEU (Session 20)
‚îÇ       ‚îî‚îÄ‚îÄ ActiveWorkout/Components/
‚îÇ           ‚îú‚îÄ‚îÄ CompactSetRow.swift
‚îÇ           ‚îú‚îÄ‚îÄ CompactExerciseCard.swift
‚îÇ           ‚îî‚îÄ‚îÄ EditSetSheet.swift
‚îÇ
‚îú‚îÄ‚îÄ Infrastructure/
‚îÇ   ‚îú‚îÄ‚îÄ DI/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DependencyContainer.swift        # ExerciseRepository added
‚îÇ   ‚îî‚îÄ‚îÄ SeedData/
‚îÇ       ‚îî‚îÄ‚îÄ ExerciseSeedData.swift           # ‚Üê NEU
‚îÇ
‚îî‚îÄ‚îÄ GymBoApp.swift                           # Seed-Aufruf added
```

---

## üîß Technische Details (Updated)

### 1. AddSetUseCase (Session 4)

```swift
final class DefaultAddSetUseCase: AddSetUseCase {
    private let repository: SessionRepositoryProtocol
    private let exerciseRepository: ExerciseRepositoryProtocol

    func execute(
        sessionId: UUID,
        exerciseId: UUID,
        weight: Double?,
        reps: Int?
    ) async throws -> DomainWorkoutSession {
        // 1. Fetch active session
        guard var session = try await repository.fetchActiveSession() else {
            throw AddSetError.sessionNotFound(sessionId)
        }

        // 2. Find exercise index
        guard let exerciseIndex = session.exercises.firstIndex(
            where: { $0.id == exerciseId }
        ) else {
            throw AddSetError.exerciseNotFound(exerciseId)
        }

        // 3. Determine weight and reps (fallback to last set's values)
        let lastSet = session.exercises[exerciseIndex].sets.last
        let finalWeight = weight ?? lastSet?.weight ?? 0.0
        let finalReps = reps ?? lastSet?.reps ?? 0

        // 4. Create new set
        let newSet = DomainSessionSet(
            weight: finalWeight,
            reps: finalReps,
            completed: false
        )

        // 5. Add set to exercise
        session.exercises[exerciseIndex].sets.append(newSet)

        // 6. Persist changes
        try await repository.update(session)

        // 7. Update exercise history
        try? await exerciseRepository.updateLastUsed(
            exerciseId: session.exercises[exerciseIndex].catalogExerciseId,
            weight: finalWeight,
            reps: finalReps,
            date: Date()
        )

        return session
    }
}
```

### 2. RemoveSetUseCase (Session 4)

```swift
final class DefaultRemoveSetUseCase: RemoveSetUseCase {
    private let repository: SessionRepositoryProtocol

    func execute(
        sessionId: UUID,
        exerciseId: UUID,
        setId: UUID
    ) async throws -> DomainWorkoutSession {
        // 1. Fetch active session
        guard var session = try await repository.fetchActiveSession() else {
            throw RemoveSetError.sessionNotFound(sessionId)
        }

        // 2. Find exercise and set indices
        guard let exerciseIndex = session.exercises.firstIndex(
            where: { $0.id == exerciseId }
        ) else {
            throw RemoveSetError.exerciseNotFound(exerciseId)
        }

        guard let setIndex = session.exercises[exerciseIndex].sets.firstIndex(
            where: { $0.id == setId }
        ) else {
            throw RemoveSetError.setNotFound(setId)
        }

        // 3. Business rule: Cannot remove last set
        guard session.exercises[exerciseIndex].sets.count > 1 else {
            throw RemoveSetError.cannotRemoveLastSet
        }

        // 4. Remove set
        session.exercises[exerciseIndex].sets.remove(at: setIndex)

        // 5. Persist changes
        try await repository.update(session)

        return session
    }
}
```

### 3. Quick-Add Field Regex Parser

```swift
// In CompactExerciseCard.swift
private func parseSetInput(_ input: String) -> (weight: Double, reps: Int)? {
    // Regex: "100 x 8" or "100.5 √ó 12" or "80X10"
    let pattern = #"(\d+(?:\.\d+)?)\s*[xX√ó]\s*(\d+)"#

    guard let regex = try? NSRegularExpression(pattern: pattern),
          let match = regex.firstMatch(
              in: input,
              range: NSRange(input.startIndex..., in: input)
          ),
          match.numberOfRanges == 3 else {
        return nil
    }

    // Extract weight (group 1)
    let weightRange = Range(match.range(at: 1), in: input)!
    let weightString = String(input[weightRange])

    // Extract reps (group 2)
    let repsRange = Range(match.range(at: 2), in: input)!
    let repsString = String(input[repsRange])

    guard let weight = Double(weightString),
          let reps = Int(repsString),
          weight > 0,
          reps > 0 else {
        return nil
    }

    return (weight, reps)
}
```

### 4. UpdateSetUseCase

```swift
final class DefaultUpdateSetUseCase: UpdateSetUseCase {
    private let repository: SessionRepositoryProtocol
    private let exerciseRepository: ExerciseRepositoryProtocol
    
    func execute(
        sessionId: UUID,
        exerciseId: UUID,
        setId: UUID,
        weight: Double? = nil,
        reps: Int? = nil
    ) async throws -> DomainWorkoutSession {
        // 1. Update Session
        // ... (update set in session)
        try await repository.update(session)
        
        // 2. Update Exercise History
        let finalWeight = set.weight
        let finalReps = set.reps
        
        try? await exerciseRepository.updateLastUsed(
            exerciseId: catalogExerciseId,
            weight: finalWeight,
            reps: finalReps,
            date: Date()
        )
        
        return session
    }
}
```

### 5. ExerciseRepository

```swift
protocol ExerciseRepositoryProtocol {
    func updateLastUsed(
        exerciseId: UUID,
        weight: Double,
        reps: Int,
        date: Date
    ) async throws
    
    func findByName(_ name: String) async throws -> UUID?
}

// SwiftData Implementation
final class SwiftDataExerciseRepository: ExerciseRepositoryProtocol {
    func updateLastUsed(...) async throws {
        let descriptor = FetchDescriptor<ExerciseEntity>(
            predicate: #Predicate { $0.id == exerciseId }
        )
        
        guard let exercise = try modelContext.fetch(descriptor).first else {
            return // Silently ignore if not found
        }
        
        exercise.lastUsedWeight = weight
        exercise.lastUsedReps = reps
        exercise.lastUsedDate = date
        
        try modelContext.save()
    }
}
```

### 6. ExerciseEntity Schema

```swift
@Model
final class ExerciseEntity {
    var id: UUID
    var name: String
    
    // Exercise History (f√ºr Progressive Overload)
    var lastUsedWeight: Double?     // ‚Üê NEU persistiert
    var lastUsedReps: Int?          // ‚Üê NEU persistiert
    var lastUsedDate: Date?         // ‚Üê NEU persistiert
    var lastUsedSetCount: Int?
    var lastUsedRestTime: TimeInterval?
    
    // ... muscleGroups, equipment, etc.
}
```

---

## üêõ Behobene Bugs (diese Session)

### ~~6. TextField Crashes (Invalid frame dimension)~~ ‚úÖ GEFIXT
**Problem:** Inline TextFields verursachten Frame-Berechnungsfehler  
**Versuche:**
- `.fixedSize()` statt `.frame(minWidth:)` ‚Üí Crash
- Toolbar an verschiedenen Stellen ‚Üí Crash
- Focus Management mit onChange ‚Üí Crash  

**Finale L√∂sung:** Komplett anderer Ansatz
- Sheet-based Editing statt inline TextFields
- Keine Frame-Berechnungen in ForEach
- Separate EditSetSheet View
- Standard iOS Pattern

**Status:** ‚úÖ FUNKTIONIERT perfekt

### ~~7. Exercise not found Warnings~~ ‚úÖ GEFIXT
**Problem:** `‚ö†Ô∏è Exercise not found: F5BEEF6D-...`  
**Ursache:** StartSessionUseCase verwendete random UUIDs  
**Fix:**
- Exercise Database Seeding implementiert
- StartSessionUseCase l√§dt echte IDs via `findByName()`
- UpdateSetUseCase findet jetzt die Exercises

**Status:** ‚úÖ FUNKTIONIERT

---

## ‚è≥ Was FEHLT noch (TODO)

### 1. ~~Exercise Names in UI~~ ‚úÖ ERLEDIGT
**Status:** ‚úÖ KOMPLETT
**Implementiert:** ActiveWorkoutSheetView l√§dt Namen via SessionStore.getExerciseName()

### 2. ~~Load Last Used Values on Session Start~~ ‚úÖ ERLEDIGT
**Status:** ‚úÖ KOMPLETT
**Implementiert:** StartSessionUseCase nutzt lastUsedWeight/Reps aus Exercise-DB

### 3. ~~Update All Sets Feature~~ ‚úÖ ERLEDIGT
**Status:** ‚úÖ KOMPLETT
**Implementiert:** UpdateAllSetsUseCase + Toggle in EditSetSheet

### 4. ~~Equipment Display~~ ‚úÖ ERLEDIGT
**Status:** ‚úÖ KOMPLETT
**Implementiert:** SessionStore.getExerciseEquipment() + UI Integration

### 5. ~~Mark All Complete Bug~~ ‚úÖ ERLEDIGT
**Status:** ‚úÖ GEFIXT (Session 3)
**Problem:** UI zeigte keine gr√ºnen Haken nach Mark All Complete
**Fix:** Forced Observable Update mit fresh session fetch

### 6. ~~Add/Remove Sets w√§hrend Session~~ ‚úÖ ERLEDIGT
**Status:** ‚úÖ KOMPLETT (Session 4)
**Implementiert:**
- AddSetUseCase + RemoveSetUseCase
- Quick-Add Field mit Regex Parser
- Plus Button mit Last-Set Fallback
- Long-Press Context Menu f√ºr Delete
- Business Rules (Cannot delete last set)

### 7. ~~Workout Repository~~ ‚úÖ ERLEDIGT
**Status:** ‚úÖ KOMPLETT (Session 5)
**Implementiert:**
- Vollst√§ndige Clean Architecture (Domain ‚Üí Data ‚Üí Presentation)
- WorkoutRepositoryProtocol + SwiftDataWorkoutRepository
- GetAllWorkoutsUseCase + GetWorkoutByIdUseCase
- WorkoutStore + Workout Picker UI
- Workout Seed Data (Push/Pull/Legs)
- StartSessionUseCase l√§dt echte Workouts
- Progressive Overload mit lastUsed Values

### 8. ~~Progression Features (Phase 2)~~ üìã DOKUMENTIERT
**Status:** üìã Vollst√§ndig geplant (PROGRESSION_FEATURE_PLAN.md)
**Gesch√§tzt:** ~14 Stunden Implementation
**Enth√§lt:**
- Data Model Extensions (optional, backward compatible)
- 3 Progression Strategien (Linear, Double, Wave Loading)
- Use Cases: SuggestProgressionUseCase, RecordProgressionEventUseCase
- UI: Progression Banner, Settings, Timeline
- ProgressionEventEntity f√ºr History Tracking

### 9. Reorder Exercises/Sets
**Status:** üî¥ FEHLT
**UI:** Buttons vorhanden
**Ben√∂tigt:** Drag & Drop + `ReorderUseCase`

### 10. Workout History & Statistics
**Status:** üî¥ FEHLT

### 11. Tests
**Status:** üî¥ FEHLT

---

## üìã N√§chste Schritte (Empfehlung)

### Quick Wins (30-60 Min)

1. **~~"Mark All Complete" Button~~ ‚úÖ ERLEDIGT (Session 3)**
   - ‚úÖ Bug gefixt (UI Refresh mit forced Observable update)
   - ‚úÖ Workout Summary Persistence gefixt
   - ‚úÖ Workout Complete Message implementiert

2. **~~Equipment in UI anzeigen~~ ‚úÖ ERLEDIGT (Session 3)**
   - ‚úÖ SessionStore.getExerciseEquipment()
   - ‚úÖ CompactExerciseCard zeigt Equipment
   - ‚úÖ Asynchrones Laden wie Exercise Names

3. **~~Add/Remove Sets~~ ‚úÖ ERLEDIGT (Session 4)**
   - ‚úÖ AddSetUseCase implementiert
   - ‚úÖ Quick-Add TextField mit Regex Parser ("100 x 8")
   - ‚úÖ RemoveSetUseCase + Long-Press Context Menu
   - ‚úÖ Business Rules (Cannot delete last set)

### Mittelfristig (4-8 Stunden)

4. **~~Workout Repository~~ ‚úÖ ERLEDIGT (Session 5)**
   - ‚úÖ Clean Architecture komplett implementiert
   - ‚úÖ Workout Picker in HomeView
   - ‚úÖ Echte Templates (Push/Pull/Legs)
   - ‚úÖ Progressive Overload funktioniert

5. **Reordering (2-3 Stunden)**
   - `.onMove` f√ºr Exercises
   - `.onMove` f√ºr Sets  
   - ReorderUseCase

6. **Progression Features - Phase 2 (~14 Stunden)**
   - Siehe PROGRESSION_FEATURE_PLAN.md
   - Data Model Extensions
   - Progression Strategies Implementation
   - UI Components (Banner, Settings, Timeline)

---

## üéì Lessons Learned (Updated)

### 5. SwiftUI TextField in ForEach ist problematisch
**Problem:** Inline TextFields in ForEach ‚Üí Frame-Crashes  
**L√∂sung:** Sheet-based Editing Pattern
- Separate View f√ºr Editing
- Keine Frame-Berechnungen im Loop
- Bessere UX durch fokussierte UI

### 6. Progressive Overload braucht Exercise History
**Wichtig:** ExerciseEntity.lastUsed* ist fundamental
- Nutzer will sehen: "Letztes Mal: 100kg x 8"
- N√§chstes Training: Automatisch vorausgef√ºllt
- Foundation f√ºr Progression Tracking

### 7. Database Seeding ist essential f√ºr Development
**Warum:** Ohne Seed-Data sind IDs random
- Exercise History funktioniert nicht
- Testing ist schwierig
- UX leidet (keine Namen, keine History)

### 8. Clean Architecture zahlt sich aus
**Learnings aus Session 5:**
- Workout Repository in 3-4h implementiert (durch klare Layer)
- Keine Breaking Changes (optional fields, backward compatible)
- Wiederverwendung von WorkoutEntity (bereits vorhanden)
- Testing: MockRepositories funktionieren perfekt
- Dependency Injection macht alles einfach austauschbar

---

## üöÄ Current State Summary

**Was jetzt funktioniert (End-to-End):**

1. ‚úÖ **App Start** ‚Üí Seeds 145 Exercises + 3 Workouts (first launch)
2. ‚úÖ **Workout Creation** ‚Üí 3 Modi zur Auswahl
   - Leeres Workout (manuell aufbauen)
   - **Quick-Setup** (schnelles generieren f√ºr Hotels/fremde Gyms)
   - Workout Wizard (coming soon)
3. ‚úÖ **Quick-Setup Wizard** ‚Üí 3-Schritt Prozess
   - Schritt 1: Equipment-Kategorien ausw√§hlen (Maschinen/Freie Gewichte/K√∂rpergewicht)
   - Schritt 2: Dauer w√§hlen (20/30/45/60 Min)
   - Schritt 3: Trainingsziel (Ganzk√∂rper/Oberk√∂rper/Unterk√∂rper/Push/Pull/Cardio)
4. ‚úÖ **AI Workout Generation** ‚Üí Intelligente √úbungsauswahl
   - Filtert nach Equipment-Verf√ºgbarkeit
   - Filtert nach Ziel-Muskelgruppen
   - Verteilt √úbungen gleichm√§√üig
   - Wendet zielspezifische Satz/Wiederholungs-Schemata an
5. ‚úÖ **Workout Preview & Customization** ‚Üí Anpassung vor dem Speichern
   - √úbungen austauschen (Exercise Picker)
   - √úbungen l√∂schen
   - √úbungen hinzuf√ºgen
   - Workout-Namen bearbeiten
6. ‚úÖ **Workout Picker** ‚Üí Liste mit Favoriten
7. ‚úÖ **Start Workout** ‚Üí L√§dt echtes Workout Template aus DB
8. ‚úÖ **Exercise Names** ‚Üí Echte Namen aus Workout
9. ‚úÖ **Progressive Overload** ‚Üí Sets starten mit letzten Werten
10. ‚úÖ **Exercise Reordering** ‚Üí Drag & Drop mit permanentem Speichern
11. ‚úÖ **Tap Weight/Reps** ‚Üí Sheet √∂ffnet sich
12. ‚úÖ **Edit Values** ‚Üí Gro√üe, gut bedienbare TextFields
13. ‚úÖ **Update All Sets** ‚Üí Toggle f√ºr alle incomplete Sets
14. ‚úÖ **Add Set** ‚Üí Quick-Add Field ("100 x 8") + Plus Button
15. ‚úÖ **Delete Set** ‚Üí Long-Press Context Menu
16. ‚úÖ **Auto-Finish Exercise** ‚Üí Automatisch ausgeblendet nach letztem Satz
17. ‚úÖ **Mark All Complete** ‚Üí Alle Sets auf einmal abhaken
18. ‚úÖ **Workout Complete** ‚Üí Summary Sheet mit Statistiken
19. ‚úÖ **Exercise History** ‚Üí lastUsedWeight/Reps/Date persistiert
20. ‚úÖ **N√§chstes Training** ‚Üí Progressive Overload Values automatisch!
21. ‚úÖ **UI Polish** ‚Üí Orange Lock Icons, Workout-Liste refresh nach Session-Abbruch

**Komplettes Set Management:**
- ‚úÖ Edit Set (Sheet-based UI)
- ‚úÖ Update All Sets (Toggle)
- ‚úÖ Add Set (Quick-Add + Plus Button)
- ‚úÖ Delete Set (Context Menu)
- ‚úÖ Mark All Complete (Batch operation)
- ‚úÖ Auto-Finish (when all sets completed)

**Exercise Management:**
- ‚úÖ Exercise Reordering (Session-only + Permanent Save)
- ‚úÖ Auto-Hide finished exercises
- ‚úÖ Eye-Toggle (Show/Hide finished)
- ‚úÖ Production-ready orderIndex handling

**Workout Management:**
- ‚úÖ Workout Repository (Clean Architecture)
- ‚úÖ Workout Picker UI mit Favoriten
- ‚úÖ 4 Seed Workouts (Push/Pull/Legs/TEST Multi Exercise)
- ‚úÖ Real Workout Loading in StartSessionUseCase
- ‚úÖ Progressive Overload Integration
- ‚úÖ Permanent Reorder Save zu Workout Template

---

## üìö Verwandte Dokumentation

- `TECHNICAL_CONCEPT_V2.md` - Architektur-Specs
- `UX_CONCEPT_V2.md` - UX/UI Design
- `TODO.md` - Priorisierte Aufgaben + Phase 2 Sektion
- `README.md` - Projekt-√úbersicht
- `PROGRESSION_FEATURE_PLAN.md` - ‚≠ê Phase 2 Spec (Auto-Progression, ~14h)
- `PROGRESSION_QUICK_REF.md` - ‚≠ê Phase 2 Quick Reference
- `SESSION_SUMMARY_2025_10_23.md` - Session 5 Detailed Summary

---

**Letzte Aktualisierung:** 2025-10-26 (Session 20 Ende)
**Status:** ‚úÖ QUICK-SETUP FEATURE KOMPLETT! AI-basierte Workout-Generierung f√ºr Hotels/fremde Gyms!
**N√§chste Session:** Workout-Editor UI, Progression Features (Phase 2), oder Workout History & Statistics
